!function($){var o=".SimpleHistoryLogitems__above",i,e,r=window.ajaxurl,t,n,s=function(){var o=simple_history.logRowsCollection.max_id_first_page,i={since_id:o};$(document).trigger("SimpleHistory:NewRowsNotifier:apiArgs",i),n=$.get(r,{action:"SimpleHistoryNewRowsNotifier",apiArgs:i},function(){},"json").done(function(o){e.removeClass("SimpleHistoryDropin__NewRowsNotifier--haveErrorCheck"),o&&o.data&&o.data.num_new_rows?(e.html(o.data.strings.newRowsFound),e.addClass("SimpleHistoryDropin__NewRowsNotifier--haveNewRows"),$(document).trigger("SimpleHistory:NewRowsNotifier:newRowsFound",o)):$(document).trigger("SimpleHistory:NewRowsNotifier:noNewRowsFound",o)}).fail(function(o,i,r){e.html(simple_history_NewRowsNotifierDropin.errorCheck),e.addClass("SimpleHistoryDropin__NewRowsNotifier--haveErrorCheck"),$(document).trigger("SimpleHistory:NewRowsNotifier:newRowsError")})};$(document).on("SimpleHistory:logRowsCollectionFirstLoad",function(){i||(i=$(o),e=$("<div />",{class:"SimpleHistoryDropin__NewRowsNotifier"}),e.appendTo(i)),t||(t=setInterval(s,simple_history_NewRowsNotifierDropin.interval))}),$(document).on("click",".SimpleHistoryDropin__NewRowsNotifier",function(o){n.abort();var i=simple_history.rowsView.collection.max_id;simple_history.rowsView.once("renderDone",function(){var o=this.collection.max_id,e=jQuery(".SimpleHistoryLogitems li"),r=e.filter(function(o,e){var r=$(e),t=parseInt(r.data("row-id"),10);return t>i});r.addClass("SimpleHistoryLogitem--newRowSinceReload")}),simple_history.logRowsCollection.reload()}),$(document).on("SimpleHistory:logRowsCollectionReload",function(){e&&(e.removeClass("SimpleHistoryDropin__NewRowsNotifier--haveNewRows"),$(document).trigger("SimpleHistory:NewRowsNotifier:afterReload"))})}(jQuery),function($){function o(o,i){t(i.data.num_new_rows)}function i(o,i){t(0)}function e(o){t("!")}function r(o){t("")}function t(o){var i=document.title;i=i.replace(/^\([\d!]+\) /,""),o&&(i="("+o+") "+i),document.title=i}var n=$(document);n.on("SimpleHistory:NewRowsNotifier:newRowsFound",o),n.on("SimpleHistory:NewRowsNotifier:noNewRowsFound",i),n.on("SimpleHistory:NewRowsNotifier:newRowsError",e),n.on("SimpleHistory:NewRowsNotifier:afterReload",r)}(jQuery);