(function(){var $;$=jQuery,$.fn.flexNav=function(e){var t,n,i,s,a,o,l,h,r,u,d,c;return r=$.extend({animationSpeed:250,transitionOpacity:!0,buttonSelector:".menu-button",hoverIntent:!1,hoverIntentTimeout:150,calcItemWidths:!1,hover:!0},e),t=$(this),t.addClass("with-js"),!0===r.transitionOpacity&&t.addClass("opacity"),t.find("li").each(function(){if($(this).has("ul").length)return $(this).addClass("item-with-ul").find("ul").hide()}),!0===r.calcItemWidths&&(n=t.find(">li"),s=n.length,o=100/s,a=o+"%"),t.data("breakpoint")&&(i=t.data("breakpoint")),u=function(){if(!0===t.hasClass("lg-screen")&&!0===r.hover)return!0===r.transitionOpacity?$(this).find(">ul").addClass("flexnav-show").stop(!0,!0).animate({height:["toggle","swing"],opacity:"toggle"},r.animationSpeed):$(this).find(">ul").addClass("flexnav-show").stop(!0,!0).animate({height:["toggle","swing"]},r.animationSpeed)},l=function(){if(!0===t.hasClass("lg-screen")&&!0===$(this).find(">ul").hasClass("flexnav-show")&&!0===r.hover)return!0===r.transitionOpacity?$(this).find(">ul").removeClass("flexnav-show").stop(!0,!0).animate({height:["toggle","swing"],opacity:"toggle"},r.animationSpeed):$(this).find(">ul").removeClass("flexnav-show").stop(!0,!0).animate({height:["toggle","swing"]},r.animationSpeed)},h=function(){var e;if($(window).width()<=i)return t.removeClass("lg-screen").addClass("sm-screen"),!0===r.calcItemWidths&&n.css("width","100%"),e=r.buttonSelector+", "+r.buttonSelector+" .touch-button",$(e).removeClass("active"),$(".one-page li a").on("click",function(){return t.removeClass("flexnav-show")});if($(window).width()>i){if(t.removeClass("sm-screen").addClass("lg-screen"),!0===r.calcItemWidths&&n.css("width",a),t.removeClass("flexnav-show").find(".item-with-ul").on(),$(".item-with-ul").find("ul").removeClass("flexnav-show"),l(),!0===r.hoverIntent)return $(".item-with-ul").hoverIntent({over:u,out:l,timeout:r.hoverIntentTimeout});if(!1===r.hoverIntent)return $(".item-with-ul").on("mouseenter",u).on("mouseleave",l)}},$(r.buttonSelector).data("navEl",t),c=".item-with-ul, "+r.buttonSelector,$(c).append('<span class="touch-button"><i class="navicon">&#9660;</i></span>'),d=r.buttonSelector+", "+r.buttonSelector+" .touch-button",$(d).on("click",function(e){var t,n,i;return $(d).toggleClass("active"),e.preventDefault(),e.stopPropagation(),i=r.buttonSelector,t=$(this).is(i)?$(this):$(this).parent(i),n=t.data("navEl"),n.toggleClass("flexnav-show")}),$(".touch-button").on("click",function(e){var n,i;n=$(this).parent(".item-with-ul").find(">ul"),i=$(this).parent(".item-with-ul").find(">span.touch-button"),!0===t.hasClass("lg-screen")&&$(this).parent(".item-with-ul").siblings().find("ul.flexnav-show").removeClass("flexnav-show").hide(),!0===n.hasClass("flexnav-show")?(n.removeClass("flexnav-show").slideUp(r.animationSpeed),i.removeClass("active"),$(this).parent().removeClass("active"),$(".menu-item").hasClass("active")?console.log("has open"):$(".flexnav").removeClass("has-open-item")):!1===n.hasClass("flexnav-show")&&($(".menu-item.active").removeClass("active"),$(this).parent(".item-with-ul").siblings().find("ul.flexnav-show").removeClass("flexnav-show").hide(),n.addClass("flexnav-show").slideDown(r.animationSpeed),i.addClass("active"),$(this).parent().addClass("active"),$(".flexnav").addClass("has-open-item"))}),t.find(".item-with-ul *").focus(function(){return $(this).parent(".item-with-ul").parent().find(".open").not(this).removeClass("open").hide(),$(this).parent(".item-with-ul").find(">ul").addClass("open").show()}),h(),$(window).on("resize",h)}}).call(this);